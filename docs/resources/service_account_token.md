---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "unleash_service_account_token Resource - terraform-provider-unleash"
subcategory: ""
description: |-
  Allows for managing the tokens bound to a service account. Note that service account tokens in Unleash
          are both immutable and cannot be recovered once created. This means you must use them immediately when creating them via terraform.
          Typically by piping them to an external secret manager to binding them to some other external terraform resource that requires Unleash tokens
      Because service account tokens are immutable, any changes to the terraform resource will trigger a deletion and recreation of those tokens,
      meaning that the secrets will by rotated out.
      .
---

# unleash_service_account_token (Resource)

Allows for managing the tokens bound to a service account. Note that service account tokens in Unleash
		are both immutable and cannot be recovered once created. This means you must use them immediately when creating them via terraform.
		Typically by piping them to an external secret manager to binding them to some other external terraform resource that requires Unleash tokens

		Because service account tokens are immutable, any changes to the terraform resource will trigger a deletion and recreation of those tokens,
		meaning that the secrets will by rotated out.
		.

## Example Usage

```terraform
resource "unleash_service_account" "account_for_tokens_test" {
  name      = "the service account name"
  username  = "some descriptive name"
  root_role = 1
}

resource "unleash_service_account_token" "token_for_account_test" {
  service_account_id = unleash_service_account.account_for_tokens_test.id
  description        = "a token for the account"
  expires_at         = "2048-01-01T00:00:00Z"
}

## This is a bare bones example to output the token to a file, this would be better off being sent to
## a secret manager rather
resource "null_resource" "store_token" {
  provisioner "local-exec" {
    command = <<EOT
      #!/bin/bash
      TOKEN_VALUE="${unleash_service_account_token.token_for_account_test.secret}"
      echo "Storing token: $TOKEN_VALUE"
      echo "$TOKEN_VALUE" > /secure/location/service_account_token.txt
    EOT
  }

  triggers = {
    token_created = unleash_service_account_token.token_for_account_test.secret
  }
}

## Some external resource that requires an unleash token to automation
resource "external_resource" "external_unleash_integration" {
  unleash_api_key = unleash_service_account_token.token_for_account_test.secret
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String) The description of the service account token.
- `expires_at` (String) The expiration date of the service account token.
- `service_account_id` (Number) The ID of the service account token.

### Read-Only

- `id` (Number) The ID of the service account.
- `secret` (String, Sensitive) The secret of the service account token.
